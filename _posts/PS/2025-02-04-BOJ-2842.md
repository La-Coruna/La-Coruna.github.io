---
title: "[BOJ 2842] ì§‘ë°°ì› í•œìƒë•"
categories:
  - PS
  - BOJ
comments: true
tags:
  - bfs
  - two-pointer
toc: true
toc_sticky: true
use_math: false
---
## ğŸ”—Link
{:.no-top-margin}
[ë¬¸ì œ](https://boj.kr/2842)  
[í’€ì´](https://github.com/La-Coruna/PS/blob/main/baekjoon/2842.cpp)  
## ğŸ’¡Idea
**í”¼ë¡œë„ë¥¼ ê¸°ì¤€**ìœ¼ë¡œ ìƒë•ì”¨ê°€ ê°ˆ ìˆ˜ ìˆëŠ” ê¸¸ì„ ì •í•˜ëŠ” ì‹ìœ¼ë¡œ êµ¬í˜„í•œë‹¤ë©´, ì§€ê¸ˆê¹Œì§€ ì´ë™í•´ì˜¨ êµ¬ì—­ì— ë”°ë¼ ë‹¤ìŒì— ê°ˆ ìˆ˜ ìˆëŠ” êµ¬ì—­ì´ ë‹¬ë¼ì ¸ì„œ, êµ¬í˜„ì´ ë³µì¡í•´ì§ˆ ê²ƒì´ë‹¤. í”¼ë¡œë„ ëŒ€ì‹ , ê°ˆ ìˆ˜ ìˆëŠ” **ìµœëŒ€ ë†’ì´ì™€ ìµœì†Œ ë†’ì´ë¥¼ ì •í•´ì£¼ë©´** ê°ˆ ìˆ˜ ìˆëŠ” êµ¬ì—­ì„ íŒë‹¨í•˜ê¸° ì‰¬ì›Œì§„ë‹¤. ìµœëŒ€ ë†’ì´ì™€ ìµœì†Œ ë†’ì´ ì‚¬ì´ì˜ êµ¬ê°„ì„ ì ì ˆíˆ ì¡°ì ˆí•˜ë©° ìµœì†Œ í”¼ë¡œë„ë¥¼ ê°±ì‹ í•˜ë©´ ëœë‹¤.

## ğŸ”‘Code
```c++
#include <bits/stdc++.h>
using namespace std;
#define X first
#define Y second
int dx[9] = {-1,-1,-1,0,0,1,1,1};
int dy[9] = {-1,0,1,-1,1,-1,0,1};

set<int> heightSet;

int N;
char board[50][50];
int height[50][50];
pair<int,int> P;
int houseNum = 0;

int bfs(int lb, int hb){
    if(height[P.X][P.Y] < lb || height[P.X][P.Y] > hb) return false;

    int remainingCnt = houseNum;

    bool vis[50][50];
    for(int i = 0; i < N; i++)
        fill(vis[i], vis[i]+N, false);
    queue<pair<int,int>> Q;

    vis[P.X][P.Y] = true;
    Q.push(P);

    while(!Q.empty()){
        auto cur = Q.front(); Q.pop();
        for(int i = 0; i < 9; i++){
            int nx = cur.X + dx[i];
            int ny = cur.Y + dy[i];
            if(nx < 0 || ny < 0 || nx >= N || ny >= N) continue;
            if(vis[nx][ny]) continue;
            if(height[nx][ny] < lb || height[nx][ny] > hb) continue;

            vis[nx][ny] = true;
            Q.emplace(nx,ny);
            if(board[nx][ny] == 'K') remainingCnt--;
        }
    }
    
    return remainingCnt == 0;
}

int main(void){
    ios_base::sync_with_stdio(0);
    cin.tie(0);

    cin >> N;
    for(int i = 0; i < N; i++){
        for(int j = 0; j < N; j++){
            cin >> board[i][j];
            if(board[i][j] == 'P') P = {i,j};
            else if(board[i][j] == 'K') houseNum++;
        }
    }
    for(int i = 0; i < N; i++){
        for(int j = 0; j < N; j++){
            cin >> height[i][j];
            heightSet.emplace(height[i][j]);
        }
    }

    int minDiff = 0x7fffffff;
    for(auto st = heightSet.begin(), en = heightSet.begin(); st != heightSet.end() ;){
        bool canGo = bfs(*st,*en);
        if(canGo){
            minDiff = min(minDiff,*en - *st);
            if(st == en && en != heightSet.end()) en++;
            else st++;
        } else{
            if(en != heightSet.end()) en++;
            else break;
        }
    }

    cout << minDiff;

    return 0;
}
```

## ğŸ—¨ï¸ Side Notes
 ì•„ìì•„ì!