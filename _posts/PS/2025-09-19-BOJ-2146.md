---
title: "[BOJ 2146] ë‹¤ë¦¬ ë§Œë“¤ê¸°"
categories:
  - PS
  - BOJ
comments: true
tags:
  - bfs
  - backtracking
toc: true
toc_sticky: true
use_math: true
---
## ğŸ”—Link
{:.no-top-margin}
[ë¬¸ì œ](https://boj.kr/2146)  
[í’€ì´](https://github.com/La-Coruna/PS/blob/main/baekjoon/2146.cpp)  
## ğŸ’¡Idea
ëª©í‘œ: ê°€ì¥ ì§§ì€ ë‘ ëŒ€ë¥™ê°„ì˜ ê±°ë¦¬ êµ¬í•˜ê¸°

-> ì„¬ì˜ ê°€ì¥ìë¦¬ì—ì„œ ë‹¤ë¥¸ ì„¬ì˜ ê°€ì¥ìë¦¬ê¹Œì§€ ë„ë‹¬í•˜ëŠ” ê·¸ ê±°ë¦¬ ì¤‘ ìµœì†Œë¥¼ êµ¬í•˜ë©´ ë¨.
-> (ê°€ì¥ìë¦¬ íŒë³„ì€ ì–´ë–»ê²Œ?)
-> ì‚¬ë°©ì´ ìœ¡ì§€ë¡œ ë‘˜ëŸ¬ìŒ“ì´ì§€ë§Œ ì•Šë‹¤ë©´, ê°€ì¥ìë¦¬. (ë³´ë“œì˜ ê°€ì¥ìë¦¬ ì²˜ë¦¬ ë¶ˆë¶„ëª…. ì´ê²ƒ ë³´ë‹¤ëŠ”!) 
-> ë°”ë‹¤ì™€ ì ‘í•˜ê³  ìˆìœ¼ë©´ ê°€ì¥ìë¦¬. (ì´ë ‡ê²Œ í•˜ë©´ ë” ëª…í™•)
-> (ìê¸° ì„¬ì„ ë§Œë‚˜ë©´ ì•ˆë¨.)


ì²« forë¬¸ìœ¼ë¡œ ê° ìœ¡ì§€ ì¹¸ì´,
1. ê°€ì¥ìë¦¬ì¸ê°€
2. ì–´ëŠ ëŒ€ë¥™ì— ì†í•˜ë‚˜
ê¸°ë¡


ë‘ë²ˆì§¸ forë¬¸ìœ¼ë¡œ, ê° ê°€ì¥ìë¦¬ ì¹¸ì´,  
ê°€ì¥ ê°€ê¹Œìš´, ë‹¤ë¥¸ ëŒ€ë¥™ê¹Œì§€ì˜ ê±°ë¦¬ê°€ ëª‡ì¸ì§€ íŒë‹¨.  
ê°€ì§€ì¹˜ê¸°: ì—¬ê¸°ì„œ ì´ë¯¸ ìµœì†Œ ê±°ë¦¬ë³´ë‹¤ ë” ë§ì´ íƒìƒ‰ì¤‘ì´ë©´, ë°”ë¡œ ì¤‘ë‹¨.


## ğŸ”‘Code
```c++
#include <bits/stdc++.h>
using namespace std;

#define X first
#define Y second

int N, board[101][101];
int dx[4] = {1,0,-1,0};
int dy[4] = {0,1,0,-1};
queue<pair<int,int>> Q;

int areaId[101][101];
bool isBorder[101][101];

int main(void){
    ios_base::sync_with_stdio(0);
    cin.tie(0);

    cin >> N;

    for(int i = 0; i < N; i++){
        for(int j = 0; j < N; j++){
            cin >> board[i][j];
        }
    }

    // 1. ì„¬ì˜ ê°€ì¥ìë¦¬ë¥¼ ì°¾ê³ , ID ë¶€ì—¬
    int curAreaId = 0;
    bool vis[101][101] = { false };
    for(int i = 0; i < N; i++){
        for(int j = 0; j < N; j++){
            // ì„¬ì´ ì•„ë‹ˆê±°ë‚˜, ë°©ë¬¸í•œ ê³³ì´ë©´ íŒ¨ìŠ¤
            if(board[i][j] == 0 || vis[i][j]) continue;

            curAreaId++;

            // BFSë¡œ ê·¸ ì„¬ì„ ì „ë¶€ ëŒë©° ê°€ì¥ìë¦¬ ì²´í¬ ë° ID ë¶€ì—¬
            areaId[i][j] = curAreaId;
            vis[i][j] = true;
            Q.emplace(i,j);
            while(!Q.empty()){
                auto cur = Q.front(); Q.pop();
                
                for(int d = 0; d < 4; d++){
                    int nx = cur.X + dx[d];
                    int ny = cur.Y + dy[d];
                    if(nx < 0 || ny < 0 || nx >= N || ny >= N) continue;
                    // 1. ì‚¬ë°©ì„ ì¡°ì‚¬ í•˜ëŠ” ì¤‘ì¸ë° ë°”ë‹¤ ë°œê²¬. ê·¸ë ‡ë‹¤ë©´ í˜„ì¬ ë•…ì€ ê°€ì¥ìë¦¬
                    if(board[nx][ny] == 0){
                        isBorder[cur.X][cur.Y] = true;
                        continue;
                    }
                    // 2. ì˜† ë•…ì´ ë•…ì¸ ê²½ìš° ë¡œì§ ê³„ì† ì§„í–‰.
                    if(vis[nx][ny]) continue;
                    areaId[nx][ny] = curAreaId;
                    vis[nx][ny] = true;
                    Q.emplace(nx,ny);
                }
            }
            
        }
    }

    // 2. ê° ê°€ì¥ìë¦¬ ë•…ì—ì„œ ì¶œë°œí•´, ë‹¤ë¥¸ ëŒ€ë¥™ì˜ ê°€ì¥ìë¦¬ê¹Œì§€ì˜ ìµœë‹¨ê±°ë¦¬ êµ¬í•´ì„œ, ê·¸ë“¤ì˜ ìµœì†Œê°’ êµ¬í•˜ê¸°
    int answer = 0x7fffffff;
    for(int i = 0; i < N; i++){
        for(int j = 0; j < N; j++){
            // ê°€ì¥ìë¦¬ê°€ ì•„ë‹ˆë©´ pass
            if(!isBorder[i][j]) continue;

            int min_dist = 0x7fffffff;

            int dist[101][101] = {0};
            dist[i][j] = 1;
            Q.emplace(i,j);
            while(!Q.empty()){
                auto cur = Q.front(); Q.pop();
                
                for(int d = 0; d < 4; d++){
                    int nx = cur.X + dx[d];
                    int ny = cur.Y + dy[d];
                    if(nx < 0 || ny < 0 || nx >= N || ny >= N) continue;
                    if(dist[nx][ny]) continue;

                    // case 1) íƒë°© ì¤‘ ìœ¡ì§€ ë°œê²¬
                    if(board[nx][ny] == 1){
                        // ë‹¤ë¥¸ ì„¬ì˜ ê°€ì¥ìë¦¬ê°€ ì•„ë‹ˆë©´ PASS = (ê°€ì¥ìë¦¬ ì•„ë‹ˆë©´ PASS) (ë‚˜ë‘ ê°™ì€ ì„¬ì´ë©´ PASS)
                        if(!isBorder[nx][ny] || areaId[i][j] == areaId[nx][ny]) continue;

                        // ë‚˜ë‘ ë‹¤ë¥¸ ì„¬ì´ë©´! ë‹¤ë¥¸ ì„¬ê³¼ì˜ ìµœì†Œ ê±°ë¦¬ ë°œê²¬
                        min_dist = dist[cur.X][cur.Y];

                        // BFS ì¡°ê¸° ì¢…ë£Œ
                        while(!Q.empty()) Q.pop();
                        break;
                    }

                    // case 2) íƒë°© ì¤‘ ë°”ë‹¤ ë°œê²¬ -> ê³„ì† í•­í•´í•´~
                    dist[nx][ny] = dist[cur.X][cur.Y] + 1;
                    Q.emplace(nx,ny);
                }
            }
            answer = min(min_dist, answer);
        }
    }

    cout << answer - 1;

    return 0;
}
```

## ğŸ—¨ï¸ Side Notes
ì˜¤ëœë§Œì— PSí•˜ë ¤ë‹ˆê¹Œ ì¡°ê¸ˆ í˜ë“œë„¤ìš” ã…ã…...