---
title: "[BOJ 3425] ê³ ìŠ¤íƒ"
categories:
  - PS
  - BOJ
comments: true
tags:
  - simulation
toc: true
toc_sticky: true
use_math: true
---
## ğŸ”—Link
{:.no-top-margin}
[ë¬¸ì œ](https://boj.kr/3425)  
[í’€ì´](https://github.com/La-Coruna/PS/blob/main/baekjoon/3425.cpp)  
## ğŸ’¡Idea
í”„ë¡œê·¸ë¨ì„ stringìœ¼ë¡œ ì €ì¥í•´ë‘ê³ , ì‹¤í–‰í•  ë•Œë§ˆë‹¤ ë¶ˆëŸ¬ì™€ ì½ìœ¼ë©´ ëœë‹¤. í”„ë¡œê·¸ë¨ì˜ ëª…ë ¹ë“¤ì€ `vector<string> p`ë¡œ ì €ì¥í–ˆê³ , í”„ë¡œê·¸ë¨ëŒ€ë¡œ ì‹¤í–‰í•˜ëŠ” í•¨ìˆ˜`func()`ë¥¼ êµ¬í˜„í–ˆë‹¤. `func()`ê°€ ë„ˆë¬´ ê¸¸ì–´ ì•„ë˜ë¡œ ì¹˜ì›Œë²„ë ¸ë‹¤.  
10^9 ì—°ì‚°ìœ¼ë¡œ ì§€ì§€ê³  ë³¶ê³  í•˜ë‹ˆê¹Œ `int`ë²”ìœ„ê°€ ë„˜ì–´ê°ˆ ìˆ˜ ìˆë‹¤. `long long`ìœ¼ë¡œ ì„¤ì •í•´ì£¼ì.

## ğŸ”‘Code
```c++
#include <bits/stdc++.h>
using namespace std;

void func(vector<string> &p, int v);

int main(void) {
	ios_base::sync_with_stdio(0);
	cin.tie(0);

	while (true) {
		string cmd;
		cin >> cmd;
		// ì¢…ë£Œ
		if (cmd == "QUIT") {
			return 0;
		}
		
		// í”„ë¡œê·¸ë¨ ì…ë ¥ ë°›ìŒ
		vector<string> p;
		while (cmd != "END") {
			p.emplace_back(cmd);
			cin >> cmd;
		}

		int N; // ì‹¤í–‰ íšŸìˆ˜
		cin >> N;
		while (N--) {
			int v;
			cin >> v;
			func(p, v);
		}
		cout << '\n';
	}

	return 0;
}

void func(vector<string> &p, int v) {
	stack<long long> s;
	s.emplace(v);

	for(int i = 0; i < (int)(p.size()); i++) {
		string cmd = p[i];
		if (cmd == "NUM") {
			long long num = stoi(p[++i]);
			s.emplace(num);
		}
		else if (cmd == "POP") {
			if (s.empty()) { cout << "ERROR\n"; return; }
			s.pop();
		}
		else if (cmd == "INV") {
			if (s.empty()) { cout << "ERROR\n"; return; }
			long long tmp = s.top(); s.pop();
			s.emplace(-tmp);
		}
		else if (cmd == "DUP") {
			if (s.empty()) { cout << "ERROR\n"; return; }
			s.emplace(s.top());
		}
		else if (cmd == "SWP") {
			if (s.size()<2) { cout << "ERROR\n"; return; }
			long long tmp1 = s.top(); s.pop();
			long long tmp2 = s.top(); s.pop();
			s.emplace(tmp1);
			s.emplace(tmp2);
		}
		else if (cmd == "ADD") {
			if (s.size() < 2) { cout << "ERROR\n"; return; }
			long long tmp1 = s.top(); s.pop();
			long long tmp2 = s.top(); s.pop();
			long long res = tmp2 + tmp1;
			if( abs(res) > 1'000'000'000) { cout << "ERROR\n"; return; }
			s.emplace(res);
		}
		else if (cmd == "SUB") {
			if (s.size() < 2) { cout << "ERROR\n"; return; }
			long long tmp1 = s.top(); s.pop();
			long long tmp2 = s.top(); s.pop();
			long long res = tmp2 - tmp1;
			if (abs(res) > 1'000'000'000) { cout << "ERROR\n"; return; }
			s.emplace(res);
		}
		else if (cmd == "MUL") {
			if (s.size() < 2) { cout << "ERROR\n"; return; }
			long long tmp1 = s.top(); s.pop();
			long long tmp2 = s.top(); s.pop();
			long long res = tmp2 * tmp1;
			if (abs(res) > 1'000'000'000) { cout << "ERROR\n"; return; }
			s.emplace(tmp2 * tmp1);
		}
		else if (cmd == "DIV") {
			if (s.size() < 2) { cout << "ERROR\n"; return; }
			long long tmp1 = s.top(); s.pop();
			long long tmp2 = s.top(); s.pop();
			if (tmp1==0) { cout << "ERROR\n"; return; }
			long long res = abs(tmp2) / abs(tmp1);
			if (abs(res) > 1'000'000'000) { cout << "ERROR\n"; return; }
			if (((tmp1 < 0) && (tmp2 > 0)) || ((tmp1 > 0) && (tmp2 < 0))) res *= -1;
			s.emplace(res);
		}
		else if (cmd == "MOD") {
			if (s.size() < 2) { cout << "ERROR\n"; return; }
			long long tmp1 = s.top(); s.pop();
			long long tmp2 = s.top(); s.pop();
			if (tmp1 == 0) { cout << "ERROR\n"; return; }
			long long res = abs(tmp2) % abs(tmp1);
			if (abs(res) > 1'000'000'000) { cout << "ERROR\n"; return; }
			if (tmp2 < 0) res *= -1;
			s.emplace(res);
		}
		else if (cmd == "END") {
			break;
		}
	}

	if (s.size() != 1)
		cout << "ERROR\n";
	else
		cout << s.top() <<'\n';
	return;
}
```

## ğŸ—¨ï¸ Side Notes
 í”„ë¡œê·¸ë¨ ì•ˆì— í”„ë¡œê·¸ë¨ì„ ì§œëŠ” í”„ë¡œê·¸ë˜ë¨¸, ê·¸ê²Œ ë°”ë¡œ ë‚˜