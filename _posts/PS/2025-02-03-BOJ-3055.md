---
title: "[BOJ 3055] íƒˆì¶œ"
categories:
  - PS
  - BOJ
comments: true
tags:
  - bfs
toc: true
toc_sticky: true
use_math: true
---
## ğŸ”—Link
{:.no-top-margin}
[ë¬¸ì œ](https://boj.kr/3055)  
[í’€ì´](https://github.com/La-Coruna/PS/blob/main/baekjoon/3055.cpp)  
## ğŸ’¡Idea
bfsë¬¸ì œì´ë‹¤. ë¬¼ì„ ë¨¼ì € ëê¹Œì§€ ì±„ì›Œë³´ê³  (ë¬¼ì´ ì´ë™í•œ ì‹œê°„ì„ `water`ì— ê¸°ë¡), ê³ ìŠ´ë„ì¹˜ê°€ ê° ì‹œê°„ë§ˆë‹¤ ë¬¼ì„ í”¼í•´ ì´ë™í•  ìˆ˜ ìˆë„ë¡ bfsë¥¼ ëŒë ¤ì£¼ë©´ ëœë‹¤. ë¬¼ì€ í•œ ê³³ì—ì„œ ì¶œë°œí•˜ëŠ” ê²ƒì´ ì•„ë‹ˆ ë°˜ë³µë¬¸ìœ¼ë¡œ ì „ë¶€ ì´ë™ì‹œì¼œì£¼ì.
## ğŸ”‘Code
```c++
#include <bits/stdc++.h>
using namespace std;

#define X first
#define Y second

int dx[4] = { 0,1,0,-1 };
int dy[4] = { 1,0,-1,0 };

int R, C;
int sX, sY;
string board[50];
int water[50][50];
int gosumVis[50][50];

void flood(){
	for (int t = 1; ; t++) {
		bool cantFloodMore = true;

		queue<pair<int, int>> Q;

		for (int i = 0; i < R; i++) {
			for (int j = 0; j < C; j++) {
				if (water[i][j] != t) // ê°€ì¥ ìë¦¬ì— ìˆëŠ” ë¬¼ë§Œ ë˜ê²Œ. ê°€ì¥ ìë¦¬ ë¬¼ì€ të‘ ê°™ì€ ê°’ì¼ ê±°ì„.
					continue;

				cantFloodMore = false;

				for (int d = 0; d < 4; d++) {
					int nx = i + dx[d];
					int ny = j + dy[d];
					if (nx < 0 || ny < 0 || nx >= R || ny >= C) continue;
					if (water[nx][ny] > 0 || board[nx][ny] != '.') continue; // ë¬¼ì´ ì´ë¯¸ ìˆê±°ë‚˜ ëª»ê°€ëŠ” ê¸¸ì¼ ë•Œ, íŒ¨ìŠ¤

					water[nx][ny] = t+1;
				}
			}
		}

		if (cantFloodMore) break;
	}
}

int GoSumdochi() {
	queue<pair<int, int>> Q;
	gosumVis[sX][sY] = 1;
	Q.emplace(sX, sY);
	while (!Q.empty()) {
		auto cur = Q.front(); Q.pop();
		for (int d = 0; d < 4; d++) {
			int nx = cur.X + dx[d];
			int ny = cur.Y + dy[d];
			if (nx < 0 || ny < 0 || nx >= R || ny >= C) continue;
			if (board[nx][ny] == 'D') {
				return gosumVis[cur.X][cur.Y];
			}
			if (gosumVis[nx][ny] > 0 || board[nx][ny] != '.') continue;
			if (water[nx][ny] > 0 && water[nx][ny] <= gosumVis[cur.X][cur.Y] + 1) continue;
			gosumVis[nx][ny] = gosumVis[cur.X][cur.Y] + 1;
			Q.emplace(nx, ny);
		}
	}
	return -1;
}

void PrintWater() {
	for (int i = 0; i < R; i++) {
		for (int j = 0; j < C; j++)
			cout << water[i][j] << ' ';
		cout << '\n';
	}
	cout << '\n';
}

void PrintGosum() {
	for (int i = 0; i < R; i++) {
		for (int j = 0; j < C; j++)
			cout << gosumVis[i][j] << ' ';
		cout << '\n';
	}
	cout << '\n';
}

int main(void) {
	ios_base::sync_with_stdio(0);
	cin.tie(0);

	cin >> R >> C;
	for (int i = 0; i < R; i++) {
		cin >> board[i];

		for (int j = 0; j < C; j++) {
			if (board[i][j] == '*') water[i][j] = 1;
			else if (board[i][j] == 'S') {
				sX = i;
				sY = j;
				board[i][j] = '.';
			}
		}
	}

	flood();

	int ans = GoSumdochi();

	//PrintWater();
	//PrintGosum();

	if (ans == -1) cout << "KAKTUS";
	else cout << ans;

	return 0;
}

```

## ğŸ—¨ï¸ Side Notes
ê³ ìŠ´ë„ì¹˜ê°€ ê°€ëŠ” í•¨ìˆ˜ë‹ˆê¹Œ `GoSumdochi()`  
ì—Œã…‹ã…‹  
ì£„ì†¡í•©ë‹ˆë‹¤.  
ê°œì¸ì ìœ¼ë¡œ ê³ ìŠ´ë„ì¹˜ë€ ìƒë¬¼ì„ ë§ì´ ì• ì •í•˜ëŠ” í¸ì…ë‹ˆë‹¤.
![](../../assets/images/PS/boj/BOJ-3055/GoSumdochi.png)